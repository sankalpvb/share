ğŸ“ Complete Android Studio Project Structure
app/
 â””â”€â”€ src/
     â””â”€â”€ main/
         â”œâ”€â”€ java/
         â”‚    â””â”€â”€ com/
         â”‚         â””â”€â”€ example/
         â”‚              â””â”€â”€ readcontacts/
         â”‚                   â””â”€â”€ MainActivity.java
         â”‚
         â”œâ”€â”€ res/
         â”‚    â”œâ”€â”€ layout/
         â”‚    â”‚    â””â”€â”€ activity_main.xml
         â”‚    â””â”€â”€ values/
         â”‚         â””â”€â”€ colors.xml
         â”‚
         â””â”€â”€ AndroidManifest.xml

ğŸ§¾ File 1 â€” activity_main.xml

ğŸ“ Location:
app/src/main/res/layout/activity_main.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:padding="12dp"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <ListView
        android:id="@+id/listView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:dividerHeight="1dp"
        android:divider="@android:color/darker_gray" />
</LinearLayout>

ğŸ§¾ File 2 â€” MainActivity.java

ğŸ“ Location:
app/src/main/java/com/example/readcontacts/MainActivity.java

package com.example.readcontacts;

import android.Manifest;
import android.content.ContentResolver;
import android.content.pm.PackageManager;
import android.database.Cursor;
import android.os.Build;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;
import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.content.ContextCompat;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    private ListView listView;
    private ArrayList<String> contactsList;
    private ActivityResultLauncher<String> permissionLauncher;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        listView = findViewById(R.id.listView);
        contactsList = new ArrayList<>();

        // Modern permission request (Activity Result API)
        permissionLauncher = registerForActivityResult(
                new ActivityResultContracts.RequestPermission(),
                isGranted -> {
                    if (isGranted) {
                        loadContacts();
                    } else {
                        Toast.makeText(this, "Permission Denied!", Toast.LENGTH_SHORT).show();
                    }
                }
        );

        checkAndRequestPermission();
    }

    private void checkAndRequestPermission() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS)
                    != PackageManager.PERMISSION_GRANTED) {
                permissionLauncher.launch(Manifest.permission.READ_CONTACTS);
            } else {
                loadContacts();
            }
        } else {
            loadContacts(); // for Android 5 and below
        }
    }

    private void loadContacts() {
        contactsList.clear();
        ContentResolver contentResolver = getContentResolver();
        Cursor cursor = contentResolver.query(
                ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
                null,
                null,
                null,
                ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + " ASC"
        );

        if (cursor != null && cursor.getCount() > 0) {
            while (cursor.moveToNext()) {
                String name = cursor.getString(
                        cursor.getColumnIndexOrThrow(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME)
                );
                String phoneNumber = cursor.getString(
                        cursor.getColumnIndexOrThrow(ContactsContract.CommonDataKinds.Phone.NUMBER)
                );
                contactsList.add(name + " : " + phoneNumber);
            }
            cursor.close();
        }

        if (contactsList.isEmpty()) {
            contactsList.add("No contacts found.");
        }

        ArrayAdapter<String> adapter = new ArrayAdapter<>(
                this,
                android.R.layout.simple_list_item_1,
                contactsList
        );
        listView.setAdapter(adapter);
    }
}

ğŸ§¾ File 3 â€” AndroidManifest.xml

ğŸ“ Location:
app/src/main/AndroidManifest.xml

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.readcontacts">

    <!-- Permission to read phone contacts -->
    <uses-permission android:name="android.permission.READ_CONTACTS" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.Readcontacts">
        
        <activity
            android:name=".MainActivity"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

âœ… How to Test

Open the project in Android Studio.

Connect a physical Android device (emulator wonâ€™t have contacts).

Run the app â†’ It will ask for Contacts permission.

Tap Allow â†’ Youâ€™ll see all saved contacts listed like:

John Doe : +91 9876543210
Alice : +1 555 234 1111


If no permission â†’ â€œPermission Denied!â€ toast message appears.